<!DOCTYPE html>
<html lang="en" dir="ltr"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">

<h:head>
    <meta charset="utf-8"/>
    <title>Goups</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/8.11.8/sweetalert2.min.css"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/8.11.8/sweetalert2.min.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"/>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <h:outputStylesheet library="css" name="stylesheet.css"/>
    <h:outputScript library="js" name="functions.js"/>
    <f:metadata>
        <f:event type="preRenderView" listener="#{groupManagement.build}"/>
    </f:metadata>
    <style>
        table tbody tr td {
            text-align: center;
        }
    </style>
</h:head>
<h:body styleClass="fundal">
    <div id="randare">
        <h:form id="create-groups-form">
            <p:growl id="mesaje" class="disable-select" showDetail="true" sticky="true"/>
            <div id="group-page" class="col-sm-4 col-sm-offset-4 center-align top-margin-50">

                <div id="group-create-formular" class="col-sm-12" style="text-align: center; margin: auto;">
                    <p:panel header="Create a new group" style="margin-bottom: 30px;" styleClass="disable-select">
                        <h:panelGrid columns="1" cellpadding="7" style="margin: auto;" styleClass="center-align">
                            <h:outputLabel value="Group Name : " for="group-name" style="margin: 2px;"/>
                            <p:inputText id="group-name" value="#{groupManagement.groupEntity.name}" style="padding: 3px; margin: 4px;"/>
                            <p:commandButton id="create-group-btn" styleClass="col-sm-12" value="Create group" style="margin-top: 4px; padding: 3px;" action="#{groupManagement.createNewGroup()}"/>
                        </h:panelGrid>
                    </p:panel>
                </div>
            </div>

            <div id="group-page-1" class="col-sm-12">
                <p:outputPanel id="books">
                    <p:dataTable value="#{groupManagement.groupEntities}" var="group" id="booksTable">
                        <p:column headerText="Group Name" style="text-align: center;" styleClass="disable-select text-overflow-custom">
                            <h:outputText value="#{group.name}"/>
                        </p:column>

                        <p:column headerText="Manage Group" style="text-align: center;" styleClass="disable-select text-overflow-custom">
                            <h:commandButton value="Edit Group" class="btn btn-primary" style="margin: 5px; color: white;" action="#{groupManagement.groupInformation(group)}"/>
                        </p:column>

                        <p:column headerText="Group Content" style="text-align: center;" styleClass="disable-select text-overflow-custom">
                            <h:commandButton value="View projects" class="btn btn-success" style="margin: 5px; color: white;" action="#{groupManagement.groupProject(group)}"/>
                        </p:column>

                        <p:column headerText="Remove Group" style="text-align: center;" styleClass="disable-select text-overflow-custom">
                            <h:commandButton value="Remove" class="btn btn-danger" style="margin: 5px; color: white;" action="#{groupManagement.removeGroup(group)}"/>
                        </p:column>
                    </p:dataTable>
                </p:outputPanel>
            </div>
        </h:form>
    </div>
</h:body>
<script>
    $(document).on("ready", function () {
        $('#randare').css({'height': window.innerHeight + 'px'});
    });

</script>
</html>